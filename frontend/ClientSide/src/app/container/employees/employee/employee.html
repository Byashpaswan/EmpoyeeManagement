<div class="container mt-4 col-md-6">
  <h3 class="mb-3">{{ isEdit ? 'Edit' : 'Add' }} Employee</h3>

  <form [formGroup]="loginForm" (ngSubmit)="submit()" novalidate>

    <!-- Name -->
    <div class="form-group">
      <label>Name</label>
      <input
        class="form-control"
        [class.is-invalid]="submitted && f['name'].invalid"
        formControlName="name"
        placeholder="Enter name"
      />
      <div class="invalid-feedback" *ngIf="submitted && f['name'].errors">
        <div *ngIf="f['name'].errors['required']">Name is required</div>
        <div *ngIf="f['name'].errors['minlength']">
          Name must be at least 2 characters
        </div>
        <div *ngIf="f['name'].errors['pattern']">
           Name can contain only letters and spaces
        </div>
      </div>
    </div>

    <!-- Email -->
    <div class="form-group">
      <label>Email</label>
      <input
        class="form-control"
        [class.is-invalid]="submitted && f['email'].invalid"
        formControlName="email"
        placeholder="Enter email"
      />
      <div class="invalid-feedback" *ngIf="submitted && f['email'].errors">
        <div *ngIf="f['email'].errors['required']">Email is required</div>
        <div *ngIf="f['email'].errors['email']">Invalid email format</div>
      </div>
    </div>

  
    <!-- Department -->
<div class="form-group">
  <label>Department</label>

  <select
    class="form-control"
    formControlName="department"
    [class.is-invalid]="submitted && f['department'].invalid"
  >
    <option value="" disabled>Select department</option>

    <option
      *ngFor="let dept of departments"
      [value]="dept"
    >
      {{ dept }}
    </option>
  </select>

  <div
    class="invalid-feedback"
    *ngIf="submitted && f['department'].errors"
  >
    Department is required
  </div>
</div>

    <!-- Salary -->
    <div class="form-group">
      <label>Salary</label>
      <input
        type="number"
        class="form-control"
        [class.is-invalid]="submitted && f['salary'].invalid"
        formControlName="salary"
        placeholder="Enter salary"
      />
      <div class="invalid-feedback" *ngIf="submitted && f['salary'].errors">
        <div *ngIf="f['salary'].errors['required']">Salary is required</div>
        <div *ngIf="f['salary'].errors['min']">Salary must be greater than 0</div>
      </div>
    </div>

   <div class="form-group">
      <label>DOB</label>
      <input
        type="date"
        class="form-control"
        formControlName="dob"
        placeholder="Enter dob"
      />
      <div class="invalid-feedback" *ngIf="submitted && f['dob'].errors">
        <div *ngIf="f['dob'].errors['required']">dob is required</div>
      </div>
    </div>

    <!-- Submit -->
    <div class="text-center mt-4">
      <button class="btn btn-success px-4">
        {{ isEdit ? 'Update' : 'Save' }}
      </button>
    </div>

  </form>
</div>
